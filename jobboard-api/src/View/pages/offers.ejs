<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Offres d‚Äôemploi ‚Äì Ruca</title>
    <link rel="stylesheet" href="/css/offers.css" />
  </head>
  <body>
    <header>
      <h1>Ruca ‚Äì trouvez, connectez, r√©ussissez</h1>
      <nav class="links" aria-label="Navigation principale">
        <a href="/">accueil</a>
        <a href="/login">connexion</a>
        <a href="/register">inscription</a>
        <a href="/contact">contact</a>
      </nav>
    </header>

    <img src="/images/fond.png" alt="banni√®re" />

    <main>
      <div class="barre">
        <h5>Trouvez le job de vos r√™ves</h5>
        <div class="search">
          <input placeholder="intitul√© du poste" />
          <input placeholder="Localisation" />
          <button class="btnrechercher">Rechercher</button>
        </div>
      </div>

      <section class="annonces">
        <h2 class="annonces__title">Offres d‚Äôemploi</h2>

        <div class="annonces__grid">
          <% if (offers && offers.length > 0) { %>
            <% offers.forEach(offer => { %>
              <article class="card">
                <div class="card__body">
                  <h3 class="card__title"><%= offer.company_name %></h3>
                  <p class="card__desc"><%= offer.title %></p>
                  <p class="card__meta">üìç <%= offer.location %></p>

                  <div class="card__more">
                    <ul class="card__facts">
                      <li>üí∂ <strong>Salaire :</strong> <%= offer.salary || "Non pr√©cis√©" %></li>
                      <li>üïí <strong>Temps de travail :</strong> <%= offer.work_time || "35 h / semaine" %></li>
                    </ul>
                    <%= offer.description %>
                  </div>

                  <div class="card__actions">
                    <button class="btn-ghost" type="button">En savoir plus</button>
                    <a class="btn-primary" href="/applications/apply/<%= offer.id %>">Candidater</a>
                  </div>
                </div>
              </article>
            <% }) %>
          <% } else { %>
            <p>Aucune offre disponible pour le moment.</p>
          <% } %>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="footer-grid">
        <div class="footer-col">
          <h3>√Ä propos</h3>
          <ul>
            <li><a href="/about">Qui sommes-nous</a></li>
            <li><a href="/mission">Notre mission</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>Aide</h3>
          <ul>
            <li><a href="/faq">FAQ</a></li>
            <li><a href="/support">Support</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h3>L√©gal</h3>
          <ul>
            <li><a href="/legal">Mentions l√©gales</a></li>
            <li><a href="/privacy">Politique de confidentialit√©</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        ¬© <span id="year"></span> Ruca ‚Äî Tous droits r√©serv√©s
      </div>
    </footer>

    <script>
      document.addEventListener("click", (e) => {
        const btn = e.target.closest(".btn-ghost");
        if (!btn) return;
        const card = btn.closest(".card");
        const open = !card.classList.contains("card--open");
        card.classList.toggle("card--open", open);
        btn.textContent = open ? "R√©duire" : "En savoir plus";
      });

      document.getElementById("year").textContent = new Date().getFullYear();
    </script>
  </body>
</html>
